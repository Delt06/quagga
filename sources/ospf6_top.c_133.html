
<html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
  <title>ospf6_top.c</title>

  <link rel="stylesheet" href="../style.css"/>
  <script src="../jquery-3.5.1.min.js"></script>
</head>
<body>

<pre><code class = "cpp">
<a name="ln1">/*</a>
<a name="ln2"> * Copyright (C) 2003 Yasuhiro Ohara</a>
<a name="ln3"> *</a>
<a name="ln4"> * This file is part of GNU Zebra.</a>
<a name="ln5"> *</a>
<a name="ln6"> * GNU Zebra is free software; you can redistribute it and/or modify it</a>
<a name="ln7"> * under the terms of the GNU General Public License as published by the</a>
<a name="ln8"> * Free Software Foundation; either version 2, or (at your option) any</a>
<a name="ln9"> * later version.</a>
<a name="ln10"> *</a>
<a name="ln11"> * GNU Zebra is distributed in the hope that it will be useful, but</a>
<a name="ln12"> * WITHOUT ANY WARRANTY; without even the implied warranty of</a>
<a name="ln13"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</a>
<a name="ln14"> * General Public License for more details.</a>
<a name="ln15"> *</a>
<a name="ln16"> * You should have received a copy of the GNU General Public License</a>
<a name="ln17"> * along with GNU Zebra; see the file COPYING.  If not, write to the </a>
<a name="ln18"> * Free Software Foundation, Inc., 59 Temple Place - Suite 330, </a>
<a name="ln19"> * Boston, MA 02111-1307, USA.  </a>
<a name="ln20"> */</a>
<a name="ln21"> </a>
<a name="ln22">#include &lt;zebra.h&gt;</a>
<a name="ln23"> </a>
<a name="ln24">#include &quot;log.h&quot;</a>
<a name="ln25">#include &quot;memory.h&quot;</a>
<a name="ln26">#include &quot;vty.h&quot;</a>
<a name="ln27">#include &quot;linklist.h&quot;</a>
<a name="ln28">#include &quot;prefix.h&quot;</a>
<a name="ln29">#include &quot;table.h&quot;</a>
<a name="ln30">#include &quot;thread.h&quot;</a>
<a name="ln31">#include &quot;command.h&quot;</a>
<a name="ln32"> </a>
<a name="ln33">#include &quot;ospf6_proto.h&quot;</a>
<a name="ln34">#include &quot;ospf6_message.h&quot;</a>
<a name="ln35">#include &quot;ospf6_lsa.h&quot;</a>
<a name="ln36">#include &quot;ospf6_lsdb.h&quot;</a>
<a name="ln37">#include &quot;ospf6_route.h&quot;</a>
<a name="ln38">#include &quot;ospf6_zebra.h&quot;</a>
<a name="ln39"> </a>
<a name="ln40">#include &quot;ospf6_top.h&quot;</a>
<a name="ln41">#include &quot;ospf6_area.h&quot;</a>
<a name="ln42">#include &quot;ospf6_interface.h&quot;</a>
<a name="ln43">#include &quot;ospf6_neighbor.h&quot;</a>
<a name="ln44"> </a>
<a name="ln45">#include &quot;ospf6_flood.h&quot;</a>
<a name="ln46">#include &quot;ospf6_asbr.h&quot;</a>
<a name="ln47">#include &quot;ospf6_abr.h&quot;</a>
<a name="ln48">#include &quot;ospf6_intra.h&quot;</a>
<a name="ln49">#include &quot;ospf6_spf.h&quot;</a>
<a name="ln50">#include &quot;ospf6d.h&quot;</a>
<a name="ln51"> </a>
<a name="ln52">/* global ospf6d variable */</a>
<a name="ln53">struct ospf6 *ospf6;</a>
<a name="ln54"> </a>
<a name="ln55">static void ospf6_disable (struct ospf6 *o);</a>
<a name="ln56"> </a>
<a name="ln57">static void</a>
<a name="ln58">ospf6_top_lsdb_hook_add (struct ospf6_lsa *lsa)</a>
<a name="ln59">{</a>
<a name="ln60">  switch (ntohs (lsa-&gt;header-&gt;type))</a>
<a name="ln61">    {</a>
<a name="ln62">      case OSPF6_LSTYPE_AS_EXTERNAL:</a>
<a name="ln63">        ospf6_asbr_lsa_add (lsa);</a>
<a name="ln64">        break;</a>
<a name="ln65"> </a>
<a name="ln66">      default:</a>
<a name="ln67">        break;</a>
<a name="ln68">    }</a>
<a name="ln69">}</a>
<a name="ln70"> </a>
<a name="ln71">static void</a>
<a name="ln72">ospf6_top_lsdb_hook_remove (struct ospf6_lsa *lsa)</a>
<a name="ln73">{</a>
<a name="ln74">  switch (ntohs (lsa-&gt;header-&gt;type))</a>
<a name="ln75">    {</a>
<a name="ln76">      case OSPF6_LSTYPE_AS_EXTERNAL:</a>
<a name="ln77">        ospf6_asbr_lsa_remove (lsa);</a>
<a name="ln78">        break;</a>
<a name="ln79"> </a>
<a name="ln80">      default:</a>
<a name="ln81">        break;</a>
<a name="ln82">    }</a>
<a name="ln83">}</a>
<a name="ln84"> </a>
<a name="ln85">static void</a>
<a name="ln86">ospf6_top_route_hook_add (struct ospf6_route *route)</a>
<a name="ln87">{</a>
<a name="ln88">  ospf6_abr_originate_summary (route);</a>
<a name="ln89">  ospf6_zebra_route_update_add (route);</a>
<a name="ln90">}</a>
<a name="ln91"> </a>
<a name="ln92">static void</a>
<a name="ln93">ospf6_top_route_hook_remove (struct ospf6_route *route)</a>
<a name="ln94">{</a>
<a name="ln95">  ospf6_abr_originate_summary (route);</a>
<a name="ln96">  ospf6_zebra_route_update_remove (route);</a>
<a name="ln97">}</a>
<a name="ln98"> </a>
<a name="ln99">static void</a>
<a name="ln100">ospf6_top_brouter_hook_add (struct ospf6_route *route)</a>
<a name="ln101">{</a>
<a name="ln102">  ospf6_abr_examin_brouter (ADV_ROUTER_IN_PREFIX (&amp;route-&gt;prefix));</a>
<a name="ln103">  ospf6_asbr_lsentry_add (route);</a>
<a name="ln104">  ospf6_abr_originate_summary (route);</a>
<a name="ln105">}</a>
<a name="ln106"> </a>
<a name="ln107">static void</a>
<a name="ln108">ospf6_top_brouter_hook_remove (struct ospf6_route *route)</a>
<a name="ln109">{</a>
<a name="ln110">  ospf6_abr_examin_brouter (ADV_ROUTER_IN_PREFIX (&amp;route-&gt;prefix));</a>
<a name="ln111">  ospf6_asbr_lsentry_remove (route);</a>
<a name="ln112">  ospf6_abr_originate_summary (route);</a>
<a name="ln113">}</a>
<a name="ln114"> </a>
<a name="ln115">static struct ospf6 *</a>
<a name="ln116">ospf6_create (void)</a>
<a name="ln117">{</a>
<a name="ln118">  struct ospf6 *o;</a>
<a name="ln119"> </a>
<a name="ln120">  o = XCALLOC (MTYPE_OSPF6_TOP, sizeof (struct ospf6));</a>
<a name="ln121"> </a>
<a name="ln122">  /* initialize */</a>
<a name="ln123">  quagga_gettime (QUAGGA_CLK_MONOTONIC, &amp;o-&gt;starttime);</a>
<a name="ln124">  o-&gt;area_list = list_new ();</a>
<a name="ln125">  o-&gt;area_list-&gt;cmp = ospf6_area_cmp;</a>
<a name="ln126">  o-&gt;lsdb = ospf6_lsdb_create (o);</a>
<a name="ln127">  o-&gt;lsdb_self = ospf6_lsdb_create (o);</a>
<a name="ln128">  o-&gt;lsdb-&gt;hook_add = ospf6_top_lsdb_hook_add;</a>
<a name="ln129">  o-&gt;lsdb-&gt;hook_remove = ospf6_top_lsdb_hook_remove;</a>
<a name="ln130"> </a>
<a name="ln131">  o-&gt;spf_delay = OSPF_SPF_DELAY_DEFAULT;</a>
<a name="ln132">  o-&gt;spf_holdtime = OSPF_SPF_HOLDTIME_DEFAULT;</a>
<a name="ln133">  o-&gt;spf_max_holdtime = OSPF_SPF_MAX_HOLDTIME_DEFAULT;</a>
<a name="ln134">  o-&gt;spf_hold_multiplier = 1;</a>
<a name="ln135"> </a>
<a name="ln136">  o-&gt;route_table = OSPF6_ROUTE_TABLE_CREATE (GLOBAL, ROUTES);</a>
<a name="ln137">  o-&gt;route_table-&gt;scope = o;</a>
<a name="ln138">  o-&gt;route_table-&gt;hook_add = ospf6_top_route_hook_add;</a>
<a name="ln139">  o-&gt;route_table-&gt;hook_remove = ospf6_top_route_hook_remove;</a>
<a name="ln140"> </a>
<a name="ln141">  o-&gt;brouter_table = OSPF6_ROUTE_TABLE_CREATE (GLOBAL, BORDER_ROUTERS);</a>
<a name="ln142">  o-&gt;brouter_table-&gt;scope = o;</a>
<a name="ln143">  o-&gt;brouter_table-&gt;hook_add = ospf6_top_brouter_hook_add;</a>
<a name="ln144">  o-&gt;brouter_table-&gt;hook_remove = ospf6_top_brouter_hook_remove;</a>
<a name="ln145"> </a>
<a name="ln146">  o-&gt;external_table = OSPF6_ROUTE_TABLE_CREATE (GLOBAL, EXTERNAL_ROUTES);</a>
<a name="ln147">  o-&gt;external_table-&gt;scope = o;</a>
<a name="ln148"> </a>
<a name="ln149">  o-&gt;external_id_table = route_table_init ();</a>
<a name="ln150"> </a>
<a name="ln151">  o-&gt;ref_bandwidth = OSPF6_REFERENCE_BANDWIDTH;</a>
<a name="ln152"> </a>
<a name="ln153">  o-&gt;distance_table = route_table_init ();</a>
<a name="ln154"> </a>
<a name="ln155">  return o;</a>
<a name="ln156">}</a>
<a name="ln157"> </a>
<a name="ln158">void</a>
<a name="ln159">ospf6_delete (struct ospf6 *o)</a>
<a name="ln160">{</a>
<a name="ln161">  struct listnode *node, *nnode;</a>
<a name="ln162">  struct ospf6_area *oa;</a>
<a name="ln163"> </a>
<a name="ln164">  ospf6_disable (ospf6);</a>
<a name="ln165"> </a>
<a name="ln166">  for (ALL_LIST_ELEMENTS (o-&gt;area_list, node, nnode, oa))</a>
<a name="ln167">    ospf6_area_delete (oa);</a>
<a name="ln168"> </a>
<a name="ln169"> </a>
<a name="ln170">  list_delete (o-&gt;area_list);</a>
<a name="ln171"> </a>
<a name="ln172">  ospf6_lsdb_delete (o-&gt;lsdb);</a>
<a name="ln173">  ospf6_lsdb_delete (o-&gt;lsdb_self);</a>
<a name="ln174"> </a>
<a name="ln175">  ospf6_route_table_delete (o-&gt;route_table);</a>
<a name="ln176">  ospf6_route_table_delete (o-&gt;brouter_table);</a>
<a name="ln177"> </a>
<a name="ln178">  ospf6_route_table_delete (o-&gt;external_table);</a>
<a name="ln179">  route_table_finish (o-&gt;external_id_table);</a>
<a name="ln180"> </a>
<a name="ln181">  ospf6_distance_reset (o);</a>
<a name="ln182">  route_table_finish (o-&gt;distance_table);</a>
<a name="ln183"> </a>
<a name="ln184">  XFREE (MTYPE_OSPF6_TOP, o);</a>
<a name="ln185">}</a>
<a name="ln186"> </a>
<a name="ln187">static void</a>
<a name="ln188">__attribute__((unused))</a>
<a name="ln189">ospf6_enable (struct ospf6 *o)</a>
<a name="ln190">{</a>
<a name="ln191">  struct listnode *node, *nnode;</a>
<a name="ln192">  struct ospf6_area *oa;</a>
<a name="ln193"> </a>
<a name="ln194">  if (CHECK_FLAG (o-&gt;flag, OSPF6_DISABLED))</a>
<a name="ln195">    {</a>
<a name="ln196">      UNSET_FLAG (o-&gt;flag, OSPF6_DISABLED);</a>
<a name="ln197">      for (ALL_LIST_ELEMENTS (o-&gt;area_list, node, nnode, oa))</a>
<a name="ln198">        ospf6_area_enable (oa);</a>
<a name="ln199">    }</a>
<a name="ln200">}</a>
<a name="ln201"> </a>
<a name="ln202">static void</a>
<a name="ln203">ospf6_disable (struct ospf6 *o)</a>
<a name="ln204">{</a>
<a name="ln205">  struct listnode *node, *nnode;</a>
<a name="ln206">  struct ospf6_area *oa;</a>
<a name="ln207"> </a>
<a name="ln208">  if (! CHECK_FLAG (o-&gt;flag, OSPF6_DISABLED))</a>
<a name="ln209">    {</a>
<a name="ln210">      SET_FLAG (o-&gt;flag, OSPF6_DISABLED);</a>
<a name="ln211">      </a>
<a name="ln212">      for (ALL_LIST_ELEMENTS (o-&gt;area_list, node, nnode, oa))</a>
<a name="ln213">        ospf6_area_disable (oa);</a>
<a name="ln214"> </a>
<a name="ln215">      /* XXX: This also changes persistent settings */</a>
<a name="ln216">      ospf6_asbr_redistribute_reset();</a>
<a name="ln217"> </a>
<a name="ln218">      ospf6_lsdb_remove_all (o-&gt;lsdb);</a>
<a name="ln219">      ospf6_route_remove_all (o-&gt;route_table);</a>
<a name="ln220">      ospf6_route_remove_all (o-&gt;brouter_table);</a>
<a name="ln221"> </a>
<a name="ln222">      THREAD_OFF(o-&gt;maxage_remover);</a>
<a name="ln223">      THREAD_OFF(o-&gt;t_spf_calc);</a>
<a name="ln224">      THREAD_OFF(o-&gt;t_ase_calc);</a>
<a name="ln225">    }</a>
<a name="ln226">}</a>
<a name="ln227"> </a>
<a name="ln228">static int</a>
<a name="ln229">ospf6_maxage_remover (struct thread *thread)</a>
<a name="ln230">{</a>
<a name="ln231">  struct ospf6 *o = (struct ospf6 *) THREAD_ARG (thread);</a>
<a name="ln232">  struct ospf6_area *oa;</a>
<a name="ln233">  struct ospf6_interface *oi;</a>
<a name="ln234">  struct ospf6_neighbor *on;</a>
<a name="ln235">  struct listnode *i, *j, *k;</a>
<a name="ln236">  int reschedule = 0;</a>
<a name="ln237"> </a>
<a name="ln238">  o-&gt;maxage_remover = (struct thread *) NULL;</a>
<a name="ln239"> </a>
<a name="ln240">  for (ALL_LIST_ELEMENTS_RO (o-&gt;area_list, i, oa))</a>
<a name="ln241">    {</a>
<a name="ln242">      for (ALL_LIST_ELEMENTS_RO (oa-&gt;if_list, j, oi))</a>
<a name="ln243">        {</a>
<a name="ln244">          for (ALL_LIST_ELEMENTS_RO (oi-&gt;neighbor_list, k, on))</a>
<a name="ln245">            {</a>
<a name="ln246">              if (on-&gt;state != OSPF6_NEIGHBOR_EXCHANGE &amp;&amp;</a>
<a name="ln247">                  on-&gt;state != OSPF6_NEIGHBOR_LOADING)</a>
<a name="ln248">		  continue;</a>
<a name="ln249"> </a>
<a name="ln250">	      ospf6_maxage_remove (o);</a>
<a name="ln251">              return 0;</a>
<a name="ln252">            }</a>
<a name="ln253">        }</a>
<a name="ln254">    }</a>
<a name="ln255"> </a>
<a name="ln256">  for (ALL_LIST_ELEMENTS_RO (o-&gt;area_list, i, oa))</a>
<a name="ln257">    {</a>
<a name="ln258">      for (ALL_LIST_ELEMENTS_RO (oa-&gt;if_list, j, oi))</a>
<a name="ln259">	{</a>
<a name="ln260">	  if (ospf6_lsdb_maxage_remover (oi-&gt;lsdb))</a>
<a name="ln261">	    {</a>
<a name="ln262">	      reschedule = 1;</a>
<a name="ln263">	    }</a>
<a name="ln264">	}</a>
<a name="ln265">      </a>
<a name="ln266">      if (ospf6_lsdb_maxage_remover (oa-&gt;lsdb))</a>
<a name="ln267">	{</a>
<a name="ln268">	    reschedule = 1;</a>
<a name="ln269">	}</a>
<a name="ln270">    }</a>
<a name="ln271"> </a>
<a name="ln272">  if (ospf6_lsdb_maxage_remover (o-&gt;lsdb))</a>
<a name="ln273">    {</a>
<a name="ln274">      reschedule = 1;</a>
<a name="ln275">    }</a>
<a name="ln276"> </a>
<a name="ln277">  if (reschedule)</a>
<a name="ln278">    {</a>
<a name="ln279">      ospf6_maxage_remove (o);</a>
<a name="ln280">    }</a>
<a name="ln281"> </a>
<a name="ln282">  return 0;</a>
<a name="ln283">}</a>
<a name="ln284"> </a>
<a name="ln285">void</a>
<a name="ln286">ospf6_maxage_remove (struct ospf6 *o)</a>
<a name="ln287">{</a>
<a name="ln288">  if (o &amp;&amp; ! o-&gt;maxage_remover)</a>
<a name="ln289">    o-&gt;maxage_remover = thread_add_timer (master, ospf6_maxage_remover, o,</a>
<a name="ln290">					  OSPF_LSA_MAXAGE_REMOVE_DELAY_DEFAULT);</a>
<a name="ln291">}</a>
<a name="ln292"> </a>
<a name="ln293">/* start ospf6 */</a>
<a name="ln294">DEFUN (router_ospf6,</a>
<a name="ln295">       router_ospf6_cmd,</a>
<a name="ln296">       &quot;router ospf6&quot;,</a>
<a name="ln297">       ROUTER_STR</a>
<a name="ln298">       OSPF6_STR)</a>
<a name="ln299">{</a>
<a name="ln300">  if (ospf6 == NULL)</a>
<a name="ln301">    ospf6 = ospf6_create ();</a>
<a name="ln302"> </a>
<a name="ln303">  /* set current ospf point. */</a>
<a name="ln304">  vty-&gt;node = OSPF6_NODE;</a>
<a name="ln305">  vty-&gt;index = ospf6;</a>
<a name="ln306"> </a>
<a name="ln307">  return CMD_SUCCESS;</a>
<a name="ln308">}</a>
<a name="ln309"> </a>
<a name="ln310">/* stop ospf6 */</a>
<a name="ln311">DEFUN (no_router_ospf6,</a>
<a name="ln312">       no_router_ospf6_cmd,</a>
<a name="ln313">       &quot;no router ospf6&quot;,</a>
<a name="ln314">       NO_STR</a>
<a name="ln315">       OSPF6_ROUTER_STR)</a>
<a name="ln316">{</a>
<a name="ln317">  if (ospf6 == NULL)</a>
<a name="ln318">    vty_out (vty, &quot;OSPFv3 is not configured%s&quot;, VNL);</a>
<a name="ln319">  else</a>
<a name="ln320">    {</a>
<a name="ln321">      ospf6_delete (ospf6);</a>
<a name="ln322">      ospf6 = NULL;</a>
<a name="ln323">    }</a>
<a name="ln324"> </a>
<a name="ln325">  /* return to config node . */</a>
<a name="ln326">  vty-&gt;node = CONFIG_NODE;</a>
<a name="ln327">  vty-&gt;index = NULL;</a>
<a name="ln328"> </a>
<a name="ln329">  return CMD_SUCCESS;</a>
<a name="ln330">}</a>
<a name="ln331"> </a>
<a name="ln332">/* change Router_ID commands. */</a>
<a name="ln333">DEFUN (ospf6_router_id,</a>
<a name="ln334">       ospf6_router_id_cmd,</a>
<a name="ln335">       &quot;router-id A.B.C.D&quot;,</a>
<a name="ln336">       &quot;Configure OSPF Router-ID\n&quot;</a>
<a name="ln337">       V4NOTATION_STR)</a>
<a name="ln338">{</a>
<a name="ln339">  int ret;</a>
<a name="ln340">  u_int32_t router_id;</a>
<a name="ln341">  struct ospf6 *o;</a>
<a name="ln342"> </a>
<a name="ln343">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln344"> </a>
<a name="ln345">  ret = inet_pton (AF_INET, argv[0], &amp;router_id);</a>
<a name="ln346">  if (ret == 0)</a>
<a name="ln347">    {</a>
<a name="ln348">      vty_out (vty, &quot;malformed OSPF Router-ID: %s%s&quot;, argv[0], VNL);</a>
<a name="ln349">      return CMD_SUCCESS;</a>
<a name="ln350">    }</a>
<a name="ln351"> </a>
<a name="ln352">  o-&gt;router_id_static = router_id;</a>
<a name="ln353">  if (o-&gt;router_id  == 0)</a>
<a name="ln354">    o-&gt;router_id  = router_id;</a>
<a name="ln355"> </a>
<a name="ln356">  return CMD_SUCCESS;</a>
<a name="ln357">}</a>
<a name="ln358"> </a>
<a name="ln359">DEFUN (ospf6_log_adjacency_changes,</a>
<a name="ln360">       ospf6_log_adjacency_changes_cmd,</a>
<a name="ln361">       &quot;log-adjacency-changes&quot;,</a>
<a name="ln362">       &quot;Log changes in adjacency state\n&quot;)</a>
<a name="ln363">{</a>
<a name="ln364">  struct ospf6 *ospf6 = vty-&gt;index;</a>
<a name="ln365"> </a>
<a name="ln366">  SET_FLAG(ospf6-&gt;config_flags, OSPF6_LOG_ADJACENCY_CHANGES);</a>
<a name="ln367">  return CMD_SUCCESS;</a>
<a name="ln368">}</a>
<a name="ln369"> </a>
<a name="ln370">DEFUN (ospf6_log_adjacency_changes_detail,</a>
<a name="ln371">       ospf6_log_adjacency_changes_detail_cmd,</a>
<a name="ln372">       &quot;log-adjacency-changes detail&quot;,</a>
<a name="ln373">              &quot;Log changes in adjacency state\n&quot;</a>
<a name="ln374">       &quot;Log all state changes\n&quot;)</a>
<a name="ln375">{</a>
<a name="ln376">  struct ospf6 *ospf6 = vty-&gt;index;</a>
<a name="ln377"> </a>
<a name="ln378">  SET_FLAG(ospf6-&gt;config_flags, OSPF6_LOG_ADJACENCY_CHANGES);</a>
<a name="ln379">  SET_FLAG(ospf6-&gt;config_flags, OSPF6_LOG_ADJACENCY_DETAIL);</a>
<a name="ln380">  return CMD_SUCCESS;</a>
<a name="ln381">}</a>
<a name="ln382"> </a>
<a name="ln383">DEFUN (no_ospf6_log_adjacency_changes,</a>
<a name="ln384">       no_ospf6_log_adjacency_changes_cmd,</a>
<a name="ln385">       &quot;no log-adjacency-changes&quot;,</a>
<a name="ln386">              NO_STR</a>
<a name="ln387">       &quot;Log changes in adjacency state\n&quot;)</a>
<a name="ln388">{</a>
<a name="ln389">  struct ospf6 *ospf6 = vty-&gt;index;</a>
<a name="ln390"> </a>
<a name="ln391">  UNSET_FLAG(ospf6-&gt;config_flags, OSPF6_LOG_ADJACENCY_DETAIL);</a>
<a name="ln392">  UNSET_FLAG(ospf6-&gt;config_flags, OSPF6_LOG_ADJACENCY_CHANGES);</a>
<a name="ln393">  return CMD_SUCCESS;</a>
<a name="ln394">}</a>
<a name="ln395"> </a>
<a name="ln396">DEFUN (no_ospf6_log_adjacency_changes_detail,</a>
<a name="ln397">       no_ospf6_log_adjacency_changes_detail_cmd,</a>
<a name="ln398">       &quot;no log-adjacency-changes detail&quot;,</a>
<a name="ln399">              NO_STR</a>
<a name="ln400">              &quot;Log changes in adjacency state\n&quot;</a>
<a name="ln401">       &quot;Log all state changes\n&quot;)</a>
<a name="ln402">{</a>
<a name="ln403">  struct ospf6 *ospf6 = vty-&gt;index;</a>
<a name="ln404"> </a>
<a name="ln405">  UNSET_FLAG(ospf6-&gt;config_flags, OSPF6_LOG_ADJACENCY_DETAIL);</a>
<a name="ln406">  return CMD_SUCCESS;</a>
<a name="ln407">}</a>
<a name="ln408"> </a>
<a name="ln409">DEFUN (ospf6_distance,</a>
<a name="ln410">       ospf6_distance_cmd,</a>
<a name="ln411">       &quot;distance &lt;1-255&gt;&quot;,</a>
<a name="ln412">       NO_STR</a>
<a name="ln413">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln414">       &quot;OSPF6 Administrative distance\n&quot;)</a>
<a name="ln415">{</a>
<a name="ln416">  struct ospf6 *o;</a>
<a name="ln417"> </a>
<a name="ln418">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln419"> </a>
<a name="ln420">  o-&gt;distance_all = atoi (argv[0]);</a>
<a name="ln421"> </a>
<a name="ln422">  return CMD_SUCCESS;</a>
<a name="ln423">}</a>
<a name="ln424"> </a>
<a name="ln425">DEFUN (no_ospf6_distance,</a>
<a name="ln426">       no_ospf6_distance_cmd,</a>
<a name="ln427">       &quot;no distance &lt;1-255&gt;&quot;,</a>
<a name="ln428">       NO_STR</a>
<a name="ln429">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln430">       &quot;OSPF6 Administrative distance\n&quot;)</a>
<a name="ln431">{</a>
<a name="ln432">  struct ospf6 *o;</a>
<a name="ln433"> </a>
<a name="ln434">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln435"> </a>
<a name="ln436">  o-&gt;distance_all = 0;</a>
<a name="ln437"> </a>
<a name="ln438">  return CMD_SUCCESS;</a>
<a name="ln439">}</a>
<a name="ln440"> </a>
<a name="ln441">DEFUN (no_ospf6_distance_ospf6,</a>
<a name="ln442">       no_ospf6_distance_ospf6_cmd,</a>
<a name="ln443">       &quot;no distance ospf6&quot;,</a>
<a name="ln444">       NO_STR</a>
<a name="ln445">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln446">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln447">       &quot;OSPF6 Distance\n&quot;)</a>
<a name="ln448">{</a>
<a name="ln449">  struct ospf6 *o;</a>
<a name="ln450"> </a>
<a name="ln451">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln452"> </a>
<a name="ln453">  o-&gt;distance_intra = 0;</a>
<a name="ln454">  o-&gt;distance_inter = 0;</a>
<a name="ln455">  o-&gt;distance_external = 0;</a>
<a name="ln456"> </a>
<a name="ln457">  return CMD_SUCCESS;</a>
<a name="ln458">}</a>
<a name="ln459"> </a>
<a name="ln460">DEFUN (ospf6_distance_ospf6_intra,</a>
<a name="ln461">       ospf6_distance_ospf6_intra_cmd,</a>
<a name="ln462">       &quot;distance ospf6 intra-area &lt;1-255&gt;&quot;,</a>
<a name="ln463">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln464">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln465">       &quot;Intra-area routes\n&quot;</a>
<a name="ln466">       &quot;Distance for intra-area routes\n&quot;)</a>
<a name="ln467">{</a>
<a name="ln468">  struct ospf6 *o;</a>
<a name="ln469"> </a>
<a name="ln470">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln471"> </a>
<a name="ln472">  o-&gt;distance_intra = atoi (argv[0]);</a>
<a name="ln473"> </a>
<a name="ln474">  return CMD_SUCCESS;</a>
<a name="ln475">}</a>
<a name="ln476"> </a>
<a name="ln477">DEFUN (ospf6_distance_ospf6_intra_inter,</a>
<a name="ln478">       ospf6_distance_ospf6_intra_inter_cmd,</a>
<a name="ln479">       &quot;distance ospf6 intra-area &lt;1-255&gt; inter-area &lt;1-255&gt;&quot;,</a>
<a name="ln480">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln481">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln482">       &quot;Intra-area routes\n&quot;</a>
<a name="ln483">       &quot;Distance for intra-area routes\n&quot;</a>
<a name="ln484">       &quot;Inter-area routes\n&quot;</a>
<a name="ln485">       &quot;Distance for inter-area routes\n&quot;)</a>
<a name="ln486">{</a>
<a name="ln487">  struct ospf6 *o;</a>
<a name="ln488"> </a>
<a name="ln489">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln490"> </a>
<a name="ln491">  o-&gt;distance_intra = atoi (argv[0]);</a>
<a name="ln492">  o-&gt;distance_inter = atoi (argv[1]);</a>
<a name="ln493"> </a>
<a name="ln494">  return CMD_SUCCESS;</a>
<a name="ln495">}</a>
<a name="ln496"> </a>
<a name="ln497">DEFUN (ospf6_distance_ospf6_intra_external,</a>
<a name="ln498">       ospf6_distance_ospf6_intra_external_cmd,</a>
<a name="ln499">       &quot;distance ospf6 intra-area &lt;1-255&gt; external &lt;1-255&gt;&quot;,</a>
<a name="ln500">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln501">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln502">       &quot;Intra-area routes\n&quot;</a>
<a name="ln503">       &quot;Distance for intra-area routes\n&quot;</a>
<a name="ln504">       &quot;External routes\n&quot;</a>
<a name="ln505">       &quot;Distance for external routes\n&quot;)</a>
<a name="ln506">{</a>
<a name="ln507">  struct ospf6 *o;</a>
<a name="ln508"> </a>
<a name="ln509">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln510"> </a>
<a name="ln511">  o-&gt;distance_intra = atoi (argv[0]);</a>
<a name="ln512">  o-&gt;distance_external = atoi (argv[1]);</a>
<a name="ln513"> </a>
<a name="ln514">  return CMD_SUCCESS;</a>
<a name="ln515">}</a>
<a name="ln516"> </a>
<a name="ln517">DEFUN (ospf6_distance_ospf6_intra_inter_external,</a>
<a name="ln518">       ospf6_distance_ospf6_intra_inter_external_cmd,</a>
<a name="ln519">       &quot;distance ospf6 intra-area &lt;1-255&gt; inter-area &lt;1-255&gt; external &lt;1-255&gt;&quot;,</a>
<a name="ln520">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln521">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln522">       &quot;Intra-area routes\n&quot;</a>
<a name="ln523">       &quot;Distance for intra-area routes\n&quot;</a>
<a name="ln524">       &quot;Inter-area routes\n&quot;</a>
<a name="ln525">       &quot;Distance for inter-area routes\n&quot;</a>
<a name="ln526">       &quot;External routes\n&quot;</a>
<a name="ln527">       &quot;Distance for external routes\n&quot;)</a>
<a name="ln528">{</a>
<a name="ln529">  struct ospf6 *o;</a>
<a name="ln530"> </a>
<a name="ln531">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln532"> </a>
<a name="ln533">  o-&gt;distance_intra = atoi (argv[0]);</a>
<a name="ln534">  o-&gt;distance_inter = atoi (argv[1]);</a>
<a name="ln535">  o-&gt;distance_external = atoi (argv[2]);</a>
<a name="ln536"> </a>
<a name="ln537">  return CMD_SUCCESS;</a>
<a name="ln538">}</a>
<a name="ln539"> </a>
<a name="ln540">DEFUN (ospf6_distance_ospf6_intra_external_inter,</a>
<a name="ln541">       ospf6_distance_ospf6_intra_external_inter_cmd,</a>
<a name="ln542">       &quot;distance ospf6 intra-area &lt;1-255&gt; external &lt;1-255&gt; inter-area &lt;1-255&gt;&quot;,</a>
<a name="ln543">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln544">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln545">       &quot;Intra-area routes\n&quot;</a>
<a name="ln546">       &quot;Distance for intra-area routes\n&quot;</a>
<a name="ln547">       &quot;External routes\n&quot;</a>
<a name="ln548">       &quot;Distance for external routes\n&quot;</a>
<a name="ln549">       &quot;Inter-area routes\n&quot;</a>
<a name="ln550">       &quot;Distance for inter-area routes\n&quot;)</a>
<a name="ln551">{</a>
<a name="ln552">  struct ospf6 *o;</a>
<a name="ln553"> </a>
<a name="ln554">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln555"> </a>
<a name="ln556">  o-&gt;distance_intra = atoi (argv[0]);</a>
<a name="ln557">  o-&gt;distance_external = atoi (argv[1]);</a>
<a name="ln558">  o-&gt;distance_inter = atoi (argv[2]);</a>
<a name="ln559"> </a>
<a name="ln560">  return CMD_SUCCESS;</a>
<a name="ln561">}</a>
<a name="ln562"> </a>
<a name="ln563">DEFUN (ospf6_distance_ospf6_inter,</a>
<a name="ln564">       ospf6_distance_ospf6_inter_cmd,</a>
<a name="ln565">       &quot;distance ospf6 inter-area &lt;1-255&gt;&quot;,</a>
<a name="ln566">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln567">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln568">       &quot;Inter-area routes\n&quot;</a>
<a name="ln569">       &quot;Distance for inter-area routes\n&quot;)</a>
<a name="ln570">{</a>
<a name="ln571">  struct ospf6 *o;</a>
<a name="ln572"> </a>
<a name="ln573">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln574"> </a>
<a name="ln575">  o-&gt;distance_inter = atoi (argv[0]);</a>
<a name="ln576"> </a>
<a name="ln577">  return CMD_SUCCESS;</a>
<a name="ln578">}</a>
<a name="ln579"> </a>
<a name="ln580">DEFUN (ospf6_distance_ospf6_inter_intra,</a>
<a name="ln581">       ospf6_distance_ospf6_inter_intra_cmd,</a>
<a name="ln582">       &quot;distance ospf6 inter-area &lt;1-255&gt; intra-area &lt;1-255&gt;&quot;,</a>
<a name="ln583">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln584">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln585">       &quot;Inter-area routes\n&quot;</a>
<a name="ln586">       &quot;Distance for inter-area routes\n&quot;</a>
<a name="ln587">       &quot;Intra-area routes\n&quot;</a>
<a name="ln588">       &quot;Distance for intra-area routes\n&quot;)</a>
<a name="ln589">{</a>
<a name="ln590">  struct ospf6 *o;</a>
<a name="ln591"> </a>
<a name="ln592">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln593"> </a>
<a name="ln594">  o-&gt;distance_inter = atoi (argv[0]);</a>
<a name="ln595">  o-&gt;distance_intra = atoi (argv[1]);</a>
<a name="ln596"> </a>
<a name="ln597">  return CMD_SUCCESS;</a>
<a name="ln598">}</a>
<a name="ln599"> </a>
<a name="ln600">DEFUN (ospf6_distance_ospf6_inter_external,</a>
<a name="ln601">       ospf6_distance_ospf6_inter_external_cmd,</a>
<a name="ln602">       &quot;distance ospf6 inter-area &lt;1-255&gt; external &lt;1-255&gt;&quot;,</a>
<a name="ln603">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln604">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln605">       &quot;Inter-area routes\n&quot;</a>
<a name="ln606">       &quot;Distance for inter-area routes\n&quot;</a>
<a name="ln607">       &quot;External routes\n&quot;</a>
<a name="ln608">       &quot;Distance for external routes\n&quot;)</a>
<a name="ln609">{</a>
<a name="ln610">  struct ospf6 *o;</a>
<a name="ln611"> </a>
<a name="ln612">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln613"> </a>
<a name="ln614">  o-&gt;distance_inter = atoi (argv[0]);</a>
<a name="ln615">  o-&gt;distance_external = atoi (argv[1]);</a>
<a name="ln616"> </a>
<a name="ln617">  return CMD_SUCCESS;</a>
<a name="ln618">}</a>
<a name="ln619"> </a>
<a name="ln620">DEFUN (ospf6_distance_ospf6_inter_intra_external,</a>
<a name="ln621">       ospf6_distance_ospf6_inter_intra_external_cmd,</a>
<a name="ln622">       &quot;distance ospf6 inter-area &lt;1-255&gt; intra-area &lt;1-255&gt; external &lt;1-255&gt;&quot;,</a>
<a name="ln623">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln624">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln625">       &quot;Inter-area routes\n&quot;</a>
<a name="ln626">       &quot;Distance for inter-area routes\n&quot;</a>
<a name="ln627">       &quot;Intra-area routes\n&quot;</a>
<a name="ln628">       &quot;Distance for intra-area routes\n&quot;</a>
<a name="ln629">       &quot;External routes\n&quot;</a>
<a name="ln630">       &quot;Distance for external routes\n&quot;)</a>
<a name="ln631">{</a>
<a name="ln632">  struct ospf6 *o;</a>
<a name="ln633"> </a>
<a name="ln634">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln635"> </a>
<a name="ln636">  o-&gt;distance_inter = atoi (argv[0]);</a>
<a name="ln637">  o-&gt;distance_intra = atoi (argv[1]);</a>
<a name="ln638">  o-&gt;distance_external = atoi (argv[2]);</a>
<a name="ln639"> </a>
<a name="ln640">  return CMD_SUCCESS;</a>
<a name="ln641">}</a>
<a name="ln642"> </a>
<a name="ln643">DEFUN (ospf6_distance_ospf6_inter_external_intra,</a>
<a name="ln644">       ospf6_distance_ospf6_inter_external_intra_cmd,</a>
<a name="ln645">       &quot;distance ospf6 inter-area &lt;1-255&gt; external &lt;1-255&gt; intra-area &lt;1-255&gt;&quot;,</a>
<a name="ln646">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln647">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln648">       &quot;Inter-area routes\n&quot;</a>
<a name="ln649">       &quot;Distance for inter-area routes\n&quot;</a>
<a name="ln650">       &quot;External routes\n&quot;</a>
<a name="ln651">       &quot;Distance for external routes\n&quot;</a>
<a name="ln652">       &quot;Intra-area routes\n&quot;</a>
<a name="ln653">       &quot;Distance for intra-area routes\n&quot;)</a>
<a name="ln654">{</a>
<a name="ln655">  struct ospf6 *o;</a>
<a name="ln656"> </a>
<a name="ln657">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln658"> </a>
<a name="ln659">  o-&gt;distance_inter = atoi (argv[0]);</a>
<a name="ln660">  o-&gt;distance_external = atoi (argv[1]);</a>
<a name="ln661">  o-&gt;distance_intra = atoi (argv[2]);</a>
<a name="ln662"> </a>
<a name="ln663">  return CMD_SUCCESS;</a>
<a name="ln664">}</a>
<a name="ln665"> </a>
<a name="ln666">DEFUN (ospf6_distance_ospf6_external,</a>
<a name="ln667">       ospf6_distance_ospf6_external_cmd,</a>
<a name="ln668">       &quot;distance ospf6 external &lt;1-255&gt;&quot;,</a>
<a name="ln669">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln670">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln671">       &quot;External routes\n&quot;</a>
<a name="ln672">       &quot;Distance for external routes\n&quot;)</a>
<a name="ln673">{</a>
<a name="ln674">  struct ospf6 *o;</a>
<a name="ln675"> </a>
<a name="ln676">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln677"> </a>
<a name="ln678">  o-&gt;distance_external = atoi (argv[0]);</a>
<a name="ln679"> </a>
<a name="ln680">  return CMD_SUCCESS;</a>
<a name="ln681">}</a>
<a name="ln682"> </a>
<a name="ln683">DEFUN (ospf6_distance_ospf6_external_intra,</a>
<a name="ln684">       ospf6_distance_ospf6_external_intra_cmd,</a>
<a name="ln685">       &quot;distance ospf6 external &lt;1-255&gt; intra-area &lt;1-255&gt;&quot;,</a>
<a name="ln686">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln687">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln688">       &quot;External routes\n&quot;</a>
<a name="ln689">       &quot;Distance for external routes\n&quot;</a>
<a name="ln690">       &quot;Intra-area routes\n&quot;</a>
<a name="ln691">       &quot;Distance for intra-area routes\n&quot;)</a>
<a name="ln692">{</a>
<a name="ln693">  struct ospf6 *o;</a>
<a name="ln694"> </a>
<a name="ln695">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln696"> </a>
<a name="ln697">  o-&gt;distance_external = atoi (argv[0]);</a>
<a name="ln698">  o-&gt;distance_intra = atoi (argv[1]);</a>
<a name="ln699"> </a>
<a name="ln700">  return CMD_SUCCESS;</a>
<a name="ln701">}</a>
<a name="ln702"> </a>
<a name="ln703">DEFUN (ospf6_distance_ospf6_external_inter,</a>
<a name="ln704">       ospf6_distance_ospf6_external_inter_cmd,</a>
<a name="ln705">       &quot;distance ospf6 external &lt;1-255&gt; inter-area &lt;1-255&gt;&quot;,</a>
<a name="ln706">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln707">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln708">       &quot;External routes\n&quot;</a>
<a name="ln709">       &quot;Distance for external routes\n&quot;</a>
<a name="ln710">       &quot;Inter-area routes\n&quot;</a>
<a name="ln711">       &quot;Distance for inter-area routes\n&quot;)</a>
<a name="ln712">{</a>
<a name="ln713">  struct ospf6 *o;</a>
<a name="ln714"> </a>
<a name="ln715">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln716"> </a>
<a name="ln717">  o-&gt;distance_external = atoi (argv[0]);</a>
<a name="ln718">  o-&gt;distance_inter = atoi (argv[1]);</a>
<a name="ln719"> </a>
<a name="ln720">  return CMD_SUCCESS;</a>
<a name="ln721">}</a>
<a name="ln722"> </a>
<a name="ln723">DEFUN (ospf6_distance_ospf6_external_intra_inter,</a>
<a name="ln724">       ospf6_distance_ospf6_external_intra_inter_cmd,</a>
<a name="ln725">       &quot;distance ospf6 external &lt;1-255&gt; intra-area &lt;1-255&gt; inter-area &lt;1-255&gt;&quot;,</a>
<a name="ln726">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln727">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln728">       &quot;External routes\n&quot;</a>
<a name="ln729">       &quot;Distance for external routes\n&quot;</a>
<a name="ln730">       &quot;Intra-area routes\n&quot;</a>
<a name="ln731">       &quot;Distance for intra-area routes\n&quot;</a>
<a name="ln732">       &quot;Inter-area routes\n&quot;</a>
<a name="ln733">       &quot;Distance for inter-area routes\n&quot;)</a>
<a name="ln734">{</a>
<a name="ln735">  struct ospf6 *o;</a>
<a name="ln736"> </a>
<a name="ln737">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln738"> </a>
<a name="ln739">  o-&gt;distance_external = atoi (argv[0]);</a>
<a name="ln740">  o-&gt;distance_intra = atoi (argv[1]);</a>
<a name="ln741">  o-&gt;distance_inter = atoi (argv[2]);</a>
<a name="ln742"> </a>
<a name="ln743">  return CMD_SUCCESS;</a>
<a name="ln744">}</a>
<a name="ln745"> </a>
<a name="ln746">DEFUN (ospf6_distance_ospf6_external_inter_intra,</a>
<a name="ln747">       ospf6_distance_ospf6_external_inter_intra_cmd,</a>
<a name="ln748">       &quot;distance ospf6 external &lt;1-255&gt; inter-area &lt;1-255&gt; intra-area &lt;1-255&gt;&quot;,</a>
<a name="ln749">       &quot;Define an administrative distance\n&quot;</a>
<a name="ln750">       &quot;OSPF6 Administrative distance\n&quot;</a>
<a name="ln751">       &quot;External routes\n&quot;</a>
<a name="ln752">       &quot;Distance for external routes\n&quot;</a>
<a name="ln753">       &quot;Inter-area routes\n&quot;</a>
<a name="ln754">       &quot;Distance for inter-area routes\n&quot;</a>
<a name="ln755">       &quot;Intra-area routes\n&quot;</a>
<a name="ln756">       &quot;Distance for intra-area routes\n&quot;)</a>
<a name="ln757">{</a>
<a name="ln758">  struct ospf6 *o;</a>
<a name="ln759"> </a>
<a name="ln760">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln761"> </a>
<a name="ln762">  o-&gt;distance_external = atoi (argv[0]);</a>
<a name="ln763">  o-&gt;distance_inter = atoi (argv[1]);</a>
<a name="ln764">  o-&gt;distance_intra = atoi (argv[2]);</a>
<a name="ln765"> </a>
<a name="ln766">  return CMD_SUCCESS;</a>
<a name="ln767">}</a>
<a name="ln768"> </a>
<a name="ln769">DEFUN (ospf6_distance_source,</a>
<a name="ln770">       ospf6_distance_source_cmd,</a>
<a name="ln771">       &quot;distance &lt;1-255&gt; X:X::X:X/M&quot;,</a>
<a name="ln772">       &quot;Administrative distance\n&quot;</a>
<a name="ln773">       &quot;Distance value\n&quot;</a>
<a name="ln774">       &quot;IP source prefix\n&quot;)</a>
<a name="ln775">{</a>
<a name="ln776">  struct ospf6 *o;</a>
<a name="ln777"> </a>
<a name="ln778">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln779"> </a>
<a name="ln780">  ospf6_distance_set (vty, o, argv[0], argv[1], NULL);</a>
<a name="ln781"> </a>
<a name="ln782">  return CMD_SUCCESS;</a>
<a name="ln783">}</a>
<a name="ln784"> </a>
<a name="ln785">DEFUN (no_ospf6_distance_source,</a>
<a name="ln786">       no_ospf6_distance_source_cmd,</a>
<a name="ln787">       &quot;no distance &lt;1-255&gt; X:X::X:X/M&quot;,</a>
<a name="ln788">       NO_STR</a>
<a name="ln789">       &quot;Administrative distance\n&quot;</a>
<a name="ln790">       &quot;Distance value\n&quot;</a>
<a name="ln791">       &quot;IP source prefix\n&quot;)</a>
<a name="ln792">{</a>
<a name="ln793">  struct ospf6 *o;</a>
<a name="ln794"> </a>
<a name="ln795">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln796">  </a>
<a name="ln797">  /* XXX: distance arg seems to be irrelevant */</a>
<a name="ln798">  ospf6_distance_unset (vty, o, argv[1], NULL);</a>
<a name="ln799"> </a>
<a name="ln800">  return CMD_SUCCESS;</a>
<a name="ln801">}</a>
<a name="ln802"> </a>
<a name="ln803">DEFUN (ospf6_distance_source_access_list,</a>
<a name="ln804">       ospf6_distance_source_access_list_cmd,</a>
<a name="ln805">       &quot;distance &lt;1-255&gt; X:X::X:X/M WORD&quot;,</a>
<a name="ln806">       &quot;Administrative distance\n&quot;</a>
<a name="ln807">       &quot;Distance value\n&quot;</a>
<a name="ln808">       &quot;IP source prefix\n&quot;</a>
<a name="ln809">       &quot;Access list name\n&quot;)</a>
<a name="ln810">{</a>
<a name="ln811">  struct ospf6 *o;</a>
<a name="ln812"> </a>
<a name="ln813">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln814"> </a>
<a name="ln815">  ospf6_distance_set (vty, o, argv[0], argv[1], argv[2]);</a>
<a name="ln816"> </a>
<a name="ln817">  return CMD_SUCCESS;</a>
<a name="ln818">}</a>
<a name="ln819"> </a>
<a name="ln820">DEFUN (no_ospf6_distance_source_access_list,</a>
<a name="ln821">       no_ospf6_distance_source_access_list_cmd,</a>
<a name="ln822">       &quot;no distance &lt;1-255&gt; X:X::X:X/M WORD&quot;,</a>
<a name="ln823">       NO_STR</a>
<a name="ln824">       &quot;Administrative distance\n&quot;</a>
<a name="ln825">       &quot;Distance value\n&quot;</a>
<a name="ln826">       &quot;IP source prefix\n&quot;</a>
<a name="ln827">       &quot;Access list name\n&quot;)</a>
<a name="ln828">{</a>
<a name="ln829">  struct ospf6 *o;</a>
<a name="ln830"> </a>
<a name="ln831">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln832"> </a>
<a name="ln833">  ospf6_distance_unset (vty, o, argv[1], argv[2]);</a>
<a name="ln834"> </a>
<a name="ln835">  return CMD_SUCCESS;</a>
<a name="ln836">}</a>
<a name="ln837"> </a>
<a name="ln838">DEFUN (ospf6_interface_area,</a>
<a name="ln839">       ospf6_interface_area_cmd,</a>
<a name="ln840">       &quot;interface IFNAME area A.B.C.D&quot;,</a>
<a name="ln841">       &quot;Enable routing on an IPv6 interface\n&quot;</a>
<a name="ln842">       IFNAME_STR</a>
<a name="ln843">       &quot;Specify the OSPF6 area ID\n&quot;</a>
<a name="ln844">       &quot;OSPF6 area ID in IPv4 address notation\n&quot;</a>
<a name="ln845">      )</a>
<a name="ln846">{</a>
<a name="ln847">  struct ospf6 *o;</a>
<a name="ln848">  struct ospf6_area *oa;</a>
<a name="ln849">  struct ospf6_interface *oi;</a>
<a name="ln850">  struct interface *ifp;</a>
<a name="ln851">  u_int32_t area_id;</a>
<a name="ln852"> </a>
<a name="ln853">  o = (struct ospf6 *) vty-&gt;index;</a>
<a name="ln854"> </a>
<a name="ln855">  /* find/create ospf6 interface */</a>
<a name="ln856">  ifp = if_get_by_name (argv[0]);</a>
<a name="ln857">  oi = (struct ospf6_interface *) ifp-&gt;info;</a>
<a name="ln858">  if (oi == NULL)</a>
<a name="ln859">    oi = ospf6_interface_create (ifp);</a>
<a name="ln860">  if (oi-&gt;area)</a>
<a name="ln861">    {</a>
<a name="ln862">      vty_out (vty, &quot;%s already attached to Area %s%s&quot;,</a>
<a name="ln863">               oi-&gt;interface-&gt;name, oi-&gt;area-&gt;name, VNL);</a>
<a name="ln864">      return CMD_SUCCESS;</a>
<a name="ln865">    }</a>
<a name="ln866"> </a>
<a name="ln867">  /* parse Area-ID */</a>
<a name="ln868">  if (inet_pton (AF_INET, argv[1], &amp;area_id) != 1)</a>
<a name="ln869">    {</a>
<a name="ln870">      vty_out (vty, &quot;Invalid Area-ID: %s%s&quot;, argv[1], VNL);</a>
<a name="ln871">      return CMD_SUCCESS;</a>
<a name="ln872">    }</a>
<a name="ln873"> </a>
<a name="ln874">  /* find/create ospf6 area */</a>
<a name="ln875">  oa = ospf6_area_lookup (area_id, o);</a>
<a name="ln876">  if (oa == NULL)</a>
<a name="ln877">    oa = ospf6_area_create (area_id, o);</a>
<a name="ln878"> </a>
<a name="ln879">  /* attach interface to area */</a>
<a name="ln880">  listnode_add (oa-&gt;if_list, oi); /* sort ?? */</a>
<a name="ln881">  oi-&gt;area = oa;</a>
<a name="ln882"> </a>
<a name="ln883">  SET_FLAG (oa-&gt;flag, OSPF6_AREA_ENABLE);</a>
<a name="ln884"> </a>
<a name="ln885">  /* ospf6 process is currently disabled, not much more to do */</a>
<a name="ln886">  if (CHECK_FLAG (o-&gt;flag, OSPF6_DISABLED))</a>
<a name="ln887">    return CMD_SUCCESS;</a>
<a name="ln888"> </a>
<a name="ln889">  /* start up */</a>
<a name="ln890">  ospf6_interface_enable (oi);</a>
<a name="ln891"> </a>
<a name="ln892">  /* If the router is ABR, originate summary routes */</a>
<a name="ln893">  if (ospf6_is_router_abr (o))</a>
<a name="ln894">    ospf6_abr_enable_area (oa);</a>
<a name="ln895"> </a>
<a name="ln896">  return CMD_SUCCESS;</a>
<a name="ln897">}</a>
<a name="ln898"> </a>
<a name="ln899">DEFUN (no_ospf6_interface_area,</a>
<a name="ln900">       no_ospf6_interface_area_cmd,</a>
<a name="ln901">       &quot;no interface IFNAME area A.B.C.D&quot;,</a>
<a name="ln902">       NO_STR</a>
<a name="ln903">       &quot;Disable routing on an IPv6 interface\n&quot;</a>
<a name="ln904">       IFNAME_STR</a>
<a name="ln905">       &quot;Specify the OSPF6 area ID\n&quot;</a>
<a name="ln906">       &quot;OSPF6 area ID in IPv4 address notation\n&quot;</a>
<a name="ln907">       )</a>
<a name="ln908">{</a>
<a name="ln909">  struct ospf6_interface *oi;</a>
<a name="ln910">  struct ospf6_area *oa;</a>
<a name="ln911">  struct interface *ifp;</a>
<a name="ln912">  u_int32_t area_id;</a>
<a name="ln913"> </a>
<a name="ln914">  ifp = if_lookup_by_name (argv[0]);</a>
<a name="ln915">  if (ifp == NULL)</a>
<a name="ln916">    {</a>
<a name="ln917">      vty_out (vty, &quot;No such interface %s%s&quot;, argv[0], VNL);</a>
<a name="ln918">      return CMD_SUCCESS;</a>
<a name="ln919">    }</a>
<a name="ln920"> </a>
<a name="ln921">  oi = (struct ospf6_interface *) ifp-&gt;info;</a>
<a name="ln922">  if (oi == NULL)</a>
<a name="ln923">    {</a>
<a name="ln924">      vty_out (vty, &quot;Interface %s not enabled%s&quot;, ifp-&gt;name, VNL);</a>
<a name="ln925">      return CMD_SUCCESS;</a>
<a name="ln926">    }</a>
<a name="ln927"> </a>
<a name="ln928">  /* parse Area-ID */</a>
<a name="ln929">  if (inet_pton (AF_INET, argv[1], &amp;area_id) != 1)</a>
<a name="ln930">    {</a>
<a name="ln931">      vty_out (vty, &quot;Invalid Area-ID: %s%s&quot;, argv[1], VNL);</a>
<a name="ln932">      return CMD_SUCCESS;</a>
<a name="ln933">    }</a>
<a name="ln934"> </a>
<a name="ln935">  /* Verify Area */</a>
<a name="ln936">  if (oi-&gt;area == NULL)</a>
<a name="ln937">    {</a>
<a name="ln938">      vty_out (vty, &quot;No such Area-ID: %s%s&quot;, argv[1], VNL);</a>
<a name="ln939">      return CMD_SUCCESS;</a>
<a name="ln940">    }</a>
<a name="ln941"> </a>
<a name="ln942">  if (oi-&gt;area-&gt;area_id != area_id)</a>
<a name="ln943">    {</a>
<a name="ln944">      vty_out (vty, &quot;Wrong Area-ID: %s is attached to area %s%s&quot;,</a>
<a name="ln945">               oi-&gt;interface-&gt;name, oi-&gt;area-&gt;name, VNL);</a>
<a name="ln946">      return CMD_SUCCESS;</a>
<a name="ln947">    }</a>
<a name="ln948"> </a>
<a name="ln949">  thread_execute (master, interface_down, oi, 0);</a>
<a name="ln950"> </a>
<a name="ln951">  oa = oi-&gt;area;</a>
<a name="ln952">  listnode_delete (oi-&gt;area-&gt;if_list, oi);</a>
<a name="ln953">  oi-&gt;area = (struct ospf6_area *) NULL;</a>
<a name="ln954"> </a>
<a name="ln955">  /* Withdraw inter-area routes from this area, if necessary */</a>
<a name="ln956">  if (oa-&gt;if_list-&gt;count == 0)</a>
<a name="ln957">    {</a>
<a name="ln958">      UNSET_FLAG (oa-&gt;flag, OSPF6_AREA_ENABLE);</a>
<a name="ln959">      ospf6_abr_disable_area (oa);</a>
<a name="ln960">    }</a>
<a name="ln961"> </a>
<a name="ln962">  return CMD_SUCCESS;</a>
<a name="ln963">}</a>
<a name="ln964"> </a>
<a name="ln965">DEFUN (ospf6_stub_router_admin,</a>
<a name="ln966">       ospf6_stub_router_admin_cmd,</a>
<a name="ln967">       &quot;stub-router administrative&quot;,</a>
<a name="ln968">       &quot;Make router a stub router\n&quot;</a>
<a name="ln969">       &quot;Advertise inability to be a transit router\n&quot;</a>
<a name="ln970">       &quot;Administratively applied, for an indefinite period\n&quot;)</a>
<a name="ln971">{</a>
<a name="ln972">  struct listnode *node;</a>
<a name="ln973">  struct ospf6_area *oa;</a>
<a name="ln974"> </a>
<a name="ln975">  if (!CHECK_FLAG (ospf6-&gt;flag, OSPF6_STUB_ROUTER))</a>
<a name="ln976">    {</a>
<a name="ln977">      for (ALL_LIST_ELEMENTS_RO (ospf6-&gt;area_list, node, oa))</a>
<a name="ln978">	{</a>
<a name="ln979">	   OSPF6_OPT_CLEAR (oa-&gt;options, OSPF6_OPT_V6);</a>
<a name="ln980">	   OSPF6_OPT_CLEAR (oa-&gt;options, OSPF6_OPT_R);</a>
<a name="ln981">	   OSPF6_ROUTER_LSA_SCHEDULE (oa);</a>
<a name="ln982">	}</a>
<a name="ln983">      SET_FLAG (ospf6-&gt;flag, OSPF6_STUB_ROUTER);</a>
<a name="ln984">    }</a>
<a name="ln985"> </a>
<a name="ln986">  return CMD_SUCCESS;</a>
<a name="ln987">}</a>
<a name="ln988"> </a>
<a name="ln989">DEFUN (no_ospf6_stub_router_admin,</a>
<a name="ln990">       no_ospf6_stub_router_admin_cmd,</a>
<a name="ln991">       &quot;no stub-router administrative&quot;,</a>
<a name="ln992">       NO_STR</a>
<a name="ln993">       &quot;Make router a stub router\n&quot;</a>
<a name="ln994">       &quot;Advertise ability to be a transit router\n&quot;</a>
<a name="ln995">       &quot;Administratively applied, for an indefinite period\n&quot;)</a>
<a name="ln996">{</a>
<a name="ln997">  struct listnode *node;</a>
<a name="ln998">  struct ospf6_area *oa;</a>
<a name="ln999"> </a>
<a name="ln1000">  if (CHECK_FLAG (ospf6-&gt;flag, OSPF6_STUB_ROUTER))</a>
<a name="ln1001">    {</a>
<a name="ln1002">      for (ALL_LIST_ELEMENTS_RO (ospf6-&gt;area_list, node, oa))</a>
<a name="ln1003">	{</a>
<a name="ln1004">	   OSPF6_OPT_SET (oa-&gt;options, OSPF6_OPT_V6);</a>
<a name="ln1005">	   OSPF6_OPT_SET (oa-&gt;options, OSPF6_OPT_R);</a>
<a name="ln1006">	   OSPF6_ROUTER_LSA_SCHEDULE (oa);</a>
<a name="ln1007">	}</a>
<a name="ln1008">      UNSET_FLAG (ospf6-&gt;flag, OSPF6_STUB_ROUTER);</a>
<a name="ln1009">    }</a>
<a name="ln1010"> </a>
<a name="ln1011">  return CMD_SUCCESS;</a>
<a name="ln1012">}</a>
<a name="ln1013"> </a>
<a name="ln1014">DEFUN (ospf6_stub_router_startup,</a>
<a name="ln1015">       ospf6_stub_router_startup_cmd,</a>
<a name="ln1016">       &quot;stub-router on-startup &lt;5-86400&gt;&quot;,</a>
<a name="ln1017">       &quot;Make router a stub router\n&quot;</a>
<a name="ln1018">       &quot;Advertise inability to be a transit router\n&quot;</a>
<a name="ln1019">       &quot;Automatically advertise as stub-router on startup of OSPF6\n&quot;</a>
<a name="ln1020">       &quot;Time (seconds) to advertise self as stub-router\n&quot;)</a>
<a name="ln1021">{</a>
<a name="ln1022">  return CMD_SUCCESS;</a>
<a name="ln1023">}</a>
<a name="ln1024"> </a>
<a name="ln1025">DEFUN (no_ospf6_stub_router_startup,</a>
<a name="ln1026">       no_ospf6_stub_router_startup_cmd,</a>
<a name="ln1027">       &quot;no stub-router on-startup&quot;,</a>
<a name="ln1028">       NO_STR</a>
<a name="ln1029">       &quot;Make router a stub router\n&quot;</a>
<a name="ln1030">       &quot;Advertise inability to be a transit router\n&quot;</a>
<a name="ln1031">       &quot;Automatically advertise as stub-router on startup of OSPF6\n&quot;</a>
<a name="ln1032">       &quot;Time (seconds) to advertise self as stub-router\n&quot;)</a>
<a name="ln1033">{</a>
<a name="ln1034">  return CMD_SUCCESS;</a>
<a name="ln1035">}</a>
<a name="ln1036"> </a>
<a name="ln1037">DEFUN (ospf6_stub_router_shutdown,</a>
<a name="ln1038">       ospf6_stub_router_shutdown_cmd,</a>
<a name="ln1039">       &quot;stub-router on-shutdown &lt;5-86400&gt;&quot;,</a>
<a name="ln1040">       &quot;Make router a stub router\n&quot;</a>
<a name="ln1041">       &quot;Advertise inability to be a transit router\n&quot;</a>
<a name="ln1042">       &quot;Automatically advertise as stub-router before shutdown\n&quot;</a>
<a name="ln1043">       &quot;Time (seconds) to advertise self as stub-router\n&quot;)</a>
<a name="ln1044">{</a>
<a name="ln1045">  return CMD_SUCCESS;</a>
<a name="ln1046">}</a>
<a name="ln1047"> </a>
<a name="ln1048">DEFUN (no_ospf6_stub_router_shutdown,</a>
<a name="ln1049">       no_ospf6_stub_router_shutdown_cmd,</a>
<a name="ln1050">       &quot;no stub-router on-shutdown&quot;,</a>
<a name="ln1051">       NO_STR</a>
<a name="ln1052">       &quot;Make router a stub router\n&quot;</a>
<a name="ln1053">       &quot;Advertise inability to be a transit router\n&quot;</a>
<a name="ln1054">       &quot;Automatically advertise as stub-router before shutdown\n&quot;</a>
<a name="ln1055">       &quot;Time (seconds) to advertise self as stub-router\n&quot;)</a>
<a name="ln1056">{</a>
<a name="ln1057">  return CMD_SUCCESS;</a>
<a name="ln1058">}</a>
<a name="ln1059"> </a>
<a name="ln1060">static void</a>
<a name="ln1061">ospf6_show (struct vty *vty, struct ospf6 *o)</a>
<a name="ln1062">{</a>
<a name="ln1063">  struct listnode *n;</a>
<a name="ln1064">  struct ospf6_area *oa;</a>
<a name="ln1065">  char router_id[16], duration[32];</a>
<a name="ln1066">  struct timeval now, running, result;</a>
<a name="ln1067">  char buf[32], rbuf[32];</a>
<a name="ln1068"> </a>
<a name="ln1069">  /* process id, router id */</a>
<a name="ln1070">  inet_ntop (AF_INET, &amp;o-&gt;router_id, router_id, sizeof (router_id));</a>
<a name="ln1071">  vty_out (vty, &quot; OSPFv3 Routing Process (0) with Router-ID %s%s&quot;,</a>
<a name="ln1072">           router_id, VNL);</a>
<a name="ln1073"> </a>
<a name="ln1074">  /* running time */</a>
<a name="ln1075">  quagga_gettime (QUAGGA_CLK_MONOTONIC, &amp;now);</a>
<a name="ln1076">  timersub (&amp;now, &amp;o-&gt;starttime, &amp;running);</a>
<a name="ln1077">  timerstring (&amp;running, duration, sizeof (duration));</a>
<a name="ln1078">  vty_out (vty, &quot; Running %s%s&quot;, duration, VNL);</a>
<a name="ln1079"> </a>
<a name="ln1080">  /* Redistribute configuration */</a>
<a name="ln1081">  /* XXX */</a>
<a name="ln1082"> </a>
<a name="ln1083">  /* Show SPF parameters */</a>
<a name="ln1084">  vty_out(vty, &quot; Initial SPF scheduling delay %d millisec(s)%s&quot;</a>
<a name="ln1085">	  &quot; Minimum hold time between consecutive SPFs %d millsecond(s)%s&quot;</a>
<a name="ln1086">	  &quot; Maximum hold time between consecutive SPFs %d millsecond(s)%s&quot;</a>
<a name="ln1087">	  &quot; Hold time multiplier is currently %d%s&quot;,</a>
<a name="ln1088">	  o-&gt;spf_delay, VNL,</a>
<a name="ln1089">	  o-&gt;spf_holdtime, VNL,</a>
<a name="ln1090">	  o-&gt;spf_max_holdtime, VNL,</a>
<a name="ln1091">	  o-&gt;spf_hold_multiplier, VNL);</a>
<a name="ln1092"> </a>
<a name="ln1093">  vty_out(vty, &quot; SPF algorithm &quot;);</a>
<a name="ln1094">  if (o-&gt;ts_spf.tv_sec || o-&gt;ts_spf.tv_usec)</a>
<a name="ln1095">    {</a>
<a name="ln1096">      timersub(&amp;now, &amp;o-&gt;ts_spf, &amp;result);</a>
<a name="ln1097">      timerstring(&amp;result, buf, sizeof(buf));</a>
<a name="ln1098">      ospf6_spf_reason_string(o-&gt;last_spf_reason, rbuf, sizeof(rbuf));</a>
<a name="ln1099">      vty_out(vty, &quot;last executed %s ago, reason %s%s&quot;, buf, rbuf, VNL);</a>
<a name="ln1100">      vty_out (vty, &quot; Last SPF duration %lld sec %lld usec%s&quot;,</a>
<a name="ln1101">               (long long)o-&gt;ts_spf_duration.tv_sec,</a>
<a name="ln1102">               (long long)o-&gt;ts_spf_duration.tv_usec, VNL);</a>
<a name="ln1103">    }</a>
<a name="ln1104">  else</a>
<a name="ln1105">    vty_out(vty, &quot;has not been run$%s&quot;, VNL);</a>
<a name="ln1106">  threadtimer_string(now, o-&gt;t_spf_calc, buf, sizeof(buf));</a>
<a name="ln1107">  vty_out (vty, &quot; SPF timer %s%s%s&quot;,</a>
<a name="ln1108">	   (o-&gt;t_spf_calc ? &quot;due in &quot; : &quot;is &quot;), buf, VNL);</a>
<a name="ln1109"> </a>
<a name="ln1110">  if (CHECK_FLAG (o-&gt;flag, OSPF6_STUB_ROUTER))</a>
<a name="ln1111">    vty_out (vty, &quot; Router Is Stub Router%s&quot;, VNL);</a>
<a name="ln1112"> </a>
<a name="ln1113">  /* LSAs */</a>
<a name="ln1114">  vty_out (vty, &quot; Number of AS scoped LSAs is %u%s&quot;,</a>
<a name="ln1115">           o-&gt;lsdb-&gt;count, VNL);</a>
<a name="ln1116"> </a>
<a name="ln1117">  /* Areas */</a>
<a name="ln1118">  vty_out (vty, &quot; Number of areas in this router is %u%s&quot;,</a>
<a name="ln1119">           listcount (o-&gt;area_list), VNL);</a>
<a name="ln1120"> </a>
<a name="ln1121">  if (CHECK_FLAG(o-&gt;config_flags, OSPF6_LOG_ADJACENCY_CHANGES))</a>
<a name="ln1122">    {</a>
<a name="ln1123">      if (CHECK_FLAG(o-&gt;config_flags, OSPF6_LOG_ADJACENCY_DETAIL))</a>
<a name="ln1124">	vty_out(vty, &quot; All adjacency changes are logged%s&quot;,VTY_NEWLINE);</a>
<a name="ln1125">      else</a>
<a name="ln1126">	vty_out(vty, &quot; Adjacency changes are logged%s&quot;,VTY_NEWLINE);</a>
<a name="ln1127">    }</a>
<a name="ln1128"> </a>
<a name="ln1129">  vty_out (vty, &quot;%s&quot;,VTY_NEWLINE);</a>
<a name="ln1130"> </a>
<a name="ln1131">  for (ALL_LIST_ELEMENTS_RO (o-&gt;area_list, n, oa))</a>
<a name="ln1132">    ospf6_area_show (vty, oa);</a>
<a name="ln1133">}</a>
<a name="ln1134"> </a>
<a name="ln1135">/* show top level structures */</a>
<a name="ln1136">DEFUN (show_ipv6_ospf6,</a>
<a name="ln1137">       show_ipv6_ospf6_cmd,</a>
<a name="ln1138">       &quot;show ipv6 ospf6&quot;,</a>
<a name="ln1139">       SHOW_STR</a>
<a name="ln1140">       IP6_STR</a>
<a name="ln1141">       OSPF6_STR)</a>
<a name="ln1142">{</a>
<a name="ln1143">  OSPF6_CMD_CHECK_RUNNING ();</a>
<a name="ln1144"> </a>
<a name="ln1145">  ospf6_show (vty, ospf6);</a>
<a name="ln1146">  return CMD_SUCCESS;</a>
<a name="ln1147">}</a>
<a name="ln1148"> </a>
<a name="ln1149">DEFUN (show_ipv6_ospf6_route,</a>
<a name="ln1150">       show_ipv6_ospf6_route_cmd,</a>
<a name="ln1151">       &quot;show ipv6 ospf6 route&quot;,</a>
<a name="ln1152">       SHOW_STR</a>
<a name="ln1153">       IP6_STR</a>
<a name="ln1154">       OSPF6_STR</a>
<a name="ln1155">       ROUTE_STR</a>
<a name="ln1156">       )</a>
<a name="ln1157">{</a>
<a name="ln1158">  OSPF6_CMD_CHECK_RUNNING ();</a>
<a name="ln1159"> </a>
<a name="ln1160">  ospf6_route_table_show (vty, argc, argv, ospf6-&gt;route_table);</a>
<a name="ln1161">  return CMD_SUCCESS;</a>
<a name="ln1162">}</a>
<a name="ln1163"> </a>
<a name="ln1164">ALIAS (show_ipv6_ospf6_route,</a>
<a name="ln1165">       show_ipv6_ospf6_route_detail_cmd,</a>
<a name="ln1166">       &quot;show ipv6 ospf6 route (X:X::X:X|X:X::X:X/M|detail|summary)&quot;,</a>
<a name="ln1167">       SHOW_STR</a>
<a name="ln1168">       IP6_STR</a>
<a name="ln1169">       OSPF6_STR</a>
<a name="ln1170">       ROUTE_STR</a>
<a name="ln1171">       &quot;Specify IPv6 address\n&quot;</a>
<a name="ln1172">       &quot;Specify IPv6 prefix\n&quot;</a>
<a name="ln1173">       &quot;Detailed information\n&quot;</a>
<a name="ln1174">       &quot;Summary of route table\n&quot;</a>
<a name="ln1175">       )</a>
<a name="ln1176"> </a>
<a name="ln1177">DEFUN (show_ipv6_ospf6_route_match,</a>
<a name="ln1178">       show_ipv6_ospf6_route_match_cmd,</a>
<a name="ln1179">       &quot;show ipv6 ospf6 route X:X::X:X/M match&quot;,</a>
<a name="ln1180">       SHOW_STR</a>
<a name="ln1181">       IP6_STR</a>
<a name="ln1182">       OSPF6_STR</a>
<a name="ln1183">       ROUTE_STR</a>
<a name="ln1184">       &quot;Specify IPv6 prefix\n&quot;</a>
<a name="ln1185">       &quot;Display routes which match the specified route\n&quot;</a>
<a name="ln1186">       )</a>
<a name="ln1187">{</a>
<a name="ln1188">  const char *sargv[CMD_ARGC_MAX];</a>
<a name="ln1189">  int i, sargc;</a>
<a name="ln1190"> </a>
<a name="ln1191">  OSPF6_CMD_CHECK_RUNNING ();</a>
<a name="ln1192"> </a>
<a name="ln1193">  /* copy argv to sargv and then append &quot;match&quot; */</a>
<a name="ln1194">  for (i = 0; i &lt; argc; i++)</a>
<a name="ln1195">    sargv[i] = argv[i];</a>
<a name="ln1196">  sargc = argc;</a>
<a name="ln1197">  sargv[sargc++] = &quot;match&quot;;</a>
<a name="ln1198">  sargv[sargc] = NULL;</a>
<a name="ln1199"> </a>
<a name="ln1200">  ospf6_route_table_show (vty, sargc, sargv, ospf6-&gt;route_table);</a>
<a name="ln1201">  return CMD_SUCCESS;</a>
<a name="ln1202">}</a>
<a name="ln1203"> </a>
<a name="ln1204">DEFUN (show_ipv6_ospf6_route_match_detail,</a>
<a name="ln1205">       show_ipv6_ospf6_route_match_detail_cmd,</a>
<a name="ln1206">       &quot;show ipv6 ospf6 route X:X::X:X/M match detail&quot;,</a>
<a name="ln1207">       SHOW_STR</a>
<a name="ln1208">       IP6_STR</a>
<a name="ln1209">       OSPF6_STR</a>
<a name="ln1210">       ROUTE_STR</a>
<a name="ln1211">       &quot;Specify IPv6 prefix\n&quot;</a>
<a name="ln1212">       &quot;Display routes which match the specified route\n&quot;</a>
<a name="ln1213">       &quot;Detailed information\n&quot;</a>
<a name="ln1214">       )</a>
<a name="ln1215">{</a>
<a name="ln1216">  const char *sargv[CMD_ARGC_MAX];</a>
<a name="ln1217">  int i, sargc;</a>
<a name="ln1218"> </a>
<a name="ln1219">  /* copy argv to sargv and then append &quot;match&quot; and &quot;detail&quot; */</a>
<a name="ln1220">  for (i = 0; i &lt; argc; i++)</a>
<a name="ln1221">    sargv[i] = argv[i];</a>
<a name="ln1222">  sargc = argc;</a>
<a name="ln1223">  sargv[sargc++] = &quot;match&quot;;</a>
<a name="ln1224">  sargv[sargc++] = &quot;detail&quot;;</a>
<a name="ln1225">  sargv[sargc] = NULL;</a>
<a name="ln1226"> </a>
<a name="ln1227">  OSPF6_CMD_CHECK_RUNNING ();</a>
<a name="ln1228"> </a>
<a name="ln1229">  ospf6_route_table_show (vty, sargc, sargv, ospf6-&gt;route_table);</a>
<a name="ln1230">  return CMD_SUCCESS;</a>
<a name="ln1231">}</a>
<a name="ln1232"> </a>
<a name="ln1233">ALIAS (show_ipv6_ospf6_route_match,</a>
<a name="ln1234">       show_ipv6_ospf6_route_longer_cmd,</a>
<a name="ln1235">       &quot;show ipv6 ospf6 route X:X::X:X/M longer&quot;,</a>
<a name="ln1236">       SHOW_STR</a>
<a name="ln1237">       IP6_STR</a>
<a name="ln1238">       OSPF6_STR</a>
<a name="ln1239">       ROUTE_STR</a>
<a name="ln1240">       &quot;Specify IPv6 prefix\n&quot;</a>
<a name="ln1241">       &quot;Display routes longer than the specified route\n&quot;</a>
<a name="ln1242">       )</a>
<a name="ln1243"> </a>
<a name="ln1244">DEFUN (show_ipv6_ospf6_route_match_detail,</a>
<a name="ln1245">       show_ipv6_ospf6_route_longer_detail_cmd,</a>
<a name="ln1246">       &quot;show ipv6 ospf6 route X:X::X:X/M longer detail&quot;,</a>
<a name="ln1247">       SHOW_STR</a>
<a name="ln1248">       IP6_STR</a>
<a name="ln1249">       OSPF6_STR</a>
<a name="ln1250">       ROUTE_STR</a>
<a name="ln1251">       &quot;Specify IPv6 prefix\n&quot;</a>
<a name="ln1252">       &quot;Display routes longer than the specified route\n&quot;</a>
<a name="ln1253">       &quot;Detailed information\n&quot;</a>
<a name="ln1254">       );</a>
<a name="ln1255"> </a>
<a name="ln1256">ALIAS (show_ipv6_ospf6_route,</a>
<a name="ln1257">       show_ipv6_ospf6_route_type_cmd,</a>
<a name="ln1258">       &quot;show ipv6 ospf6 route (intra-area|inter-area|external-1|external-2)&quot;,</a>
<a name="ln1259">       SHOW_STR</a>
<a name="ln1260">       IP6_STR</a>
<a name="ln1261">       OSPF6_STR</a>
<a name="ln1262">       ROUTE_STR</a>
<a name="ln1263">       &quot;Display Intra-Area routes\n&quot;</a>
<a name="ln1264">       &quot;Display Inter-Area routes\n&quot;</a>
<a name="ln1265">       &quot;Display Type-1 External routes\n&quot;</a>
<a name="ln1266">       &quot;Display Type-2 External routes\n&quot;</a>
<a name="ln1267">       )</a>
<a name="ln1268"> </a>
<a name="ln1269">DEFUN (show_ipv6_ospf6_route_type_detail,</a>
<a name="ln1270">       show_ipv6_ospf6_route_type_detail_cmd,</a>
<a name="ln1271">       &quot;show ipv6 ospf6 route (intra-area|inter-area|external-1|external-2) detail&quot;,</a>
<a name="ln1272">       SHOW_STR</a>
<a name="ln1273">       IP6_STR</a>
<a name="ln1274">       OSPF6_STR</a>
<a name="ln1275">       ROUTE_STR</a>
<a name="ln1276">       &quot;Display Intra-Area routes\n&quot;</a>
<a name="ln1277">       &quot;Display Inter-Area routes\n&quot;</a>
<a name="ln1278">       &quot;Display Type-1 External routes\n&quot;</a>
<a name="ln1279">       &quot;Display Type-2 External routes\n&quot;</a>
<a name="ln1280">       &quot;Detailed information\n&quot;</a>
<a name="ln1281">       )</a>
<a name="ln1282">{</a>
<a name="ln1283">  const char *sargv[CMD_ARGC_MAX];</a>
<a name="ln1284">  int i, sargc;</a>
<a name="ln1285"> </a>
<a name="ln1286">  /* copy argv to sargv and then append &quot;detail&quot; */</a>
<a name="ln1287">  for (i = 0; i &lt; argc; i++)</a>
<a name="ln1288">    sargv[i] = argv[i];</a>
<a name="ln1289">  sargc = argc;</a>
<a name="ln1290">  sargv[sargc++] = &quot;detail&quot;;</a>
<a name="ln1291">  sargv[sargc] = NULL;</a>
<a name="ln1292"> </a>
<a name="ln1293">  OSPF6_CMD_CHECK_RUNNING ();</a>
<a name="ln1294"> </a>
<a name="ln1295">  ospf6_route_table_show (vty, sargc, sargv, ospf6-&gt;route_table);</a>
<a name="ln1296">  return CMD_SUCCESS;</a>
<a name="ln1297">}</a>
<a name="ln1298"> </a>
<a name="ln1299">static void</a>
<a name="ln1300">ospf6_stub_router_config_write (struct vty *vty)</a>
<a name="ln1301">{</a>
<a name="ln1302">  if (CHECK_FLAG (ospf6-&gt;flag, OSPF6_STUB_ROUTER))</a>
<a name="ln1303">    {</a>
<a name="ln1304">      vty_out (vty, &quot; stub-router administrative%s&quot;, VNL);</a>
<a name="ln1305">    }</a>
<a name="ln1306">    return;</a>
<a name="ln1307">}</a>
<a name="ln1308"> </a>
<a name="ln1309">static int</a>
<a name="ln1310">ospf6_distance_config_write (struct vty *vty)</a>
<a name="ln1311">{</a>
<a name="ln1312">  struct route_node *rn;</a>
<a name="ln1313">  struct ospf6_distance *odistance;</a>
<a name="ln1314"> </a>
<a name="ln1315">  if (ospf6-&gt;distance_all)</a>
<a name="ln1316">    vty_out (vty, &quot; distance %d%s&quot;, ospf6-&gt;distance_all, VTY_NEWLINE);</a>
<a name="ln1317"> </a>
<a name="ln1318">  if (ospf6-&gt;distance_intra</a>
<a name="ln1319">      || ospf6-&gt;distance_inter</a>
<a name="ln1320">      || ospf6-&gt;distance_external)</a>
<a name="ln1321">    {</a>
<a name="ln1322">      vty_out (vty, &quot; distance ospf6&quot;);</a>
<a name="ln1323"> </a>
<a name="ln1324">      if (ospf6-&gt;distance_intra)</a>
<a name="ln1325">        vty_out (vty, &quot; intra-area %d&quot;, ospf6-&gt;distance_intra);</a>
<a name="ln1326">      if (ospf6-&gt;distance_inter)</a>
<a name="ln1327">        vty_out (vty, &quot; inter-area %d&quot;, ospf6-&gt;distance_inter);</a>
<a name="ln1328">      if (ospf6-&gt;distance_external)</a>
<a name="ln1329">        vty_out (vty, &quot; external %d&quot;, ospf6-&gt;distance_external);</a>
<a name="ln1330"> </a>
<a name="ln1331">      vty_out (vty, &quot;%s&quot;, VTY_NEWLINE);</a>
<a name="ln1332">    }</a>
<a name="ln1333"> </a>
<a name="ln1334">  for (rn = route_top (ospf6-&gt;distance_table); rn; rn = route_next (rn))</a>
<a name="ln1335">    if ((odistance = rn-&gt;info) != NULL)</a>
<a name="ln1336">      {</a>
<a name="ln1337">        char pstr[128];</a>
<a name="ln1338">        vty_out (vty, &quot; distance %d %s %s%s&quot;, odistance-&gt;distance,</a>
<a name="ln1339">                 prefix2str (&amp;rn-&gt;p, pstr, sizeof(pstr)),</a>
<a name="ln1340">                 odistance-&gt;access_list ? odistance-&gt;access_list : &quot;&quot;,</a>
<a name="ln1341">                 VTY_NEWLINE);</a>
<a name="ln1342">      }</a>
<a name="ln1343">  return 0;</a>
<a name="ln1344">}</a>
<a name="ln1345"> </a>
<a name="ln1346">/* OSPF configuration write function. */</a>
<a name="ln1347">static int</a>
<a name="ln1348">config_write_ospf6 (struct vty *vty)</a>
<a name="ln1349">{</a>
<a name="ln1350">  char router_id[16];</a>
<a name="ln1351">  struct listnode *j, *k;</a>
<a name="ln1352">  struct ospf6_area *oa;</a>
<a name="ln1353">  struct ospf6_interface *oi;</a>
<a name="ln1354"> </a>
<a name="ln1355">  /* OSPFv6 configuration. */</a>
<a name="ln1356">  if (ospf6 == NULL)</a>
<a name="ln1357">    return CMD_SUCCESS;</a>
<a name="ln1358"> </a>
<a name="ln1359">  inet_ntop (AF_INET, &amp;ospf6-&gt;router_id_static, router_id, sizeof (router_id));</a>
<a name="ln1360">  vty_out (vty, &quot;router ospf6%s&quot;, VNL);</a>
<a name="ln1361">  if (ospf6-&gt;router_id_static != 0)</a>
<a name="ln1362">    vty_out (vty, &quot; router-id %s%s&quot;, router_id, VNL);</a>
<a name="ln1363"> </a>
<a name="ln1364">  /* log-adjacency-changes flag print. */</a>
<a name="ln1365">  if (CHECK_FLAG(ospf6-&gt;config_flags, OSPF6_LOG_ADJACENCY_CHANGES))</a>
<a name="ln1366">    {</a>
<a name="ln1367">      vty_out(vty, &quot; log-adjacency-changes&quot;);</a>
<a name="ln1368">      if (CHECK_FLAG(ospf6-&gt;config_flags, OSPF6_LOG_ADJACENCY_DETAIL))</a>
<a name="ln1369">	vty_out(vty, &quot; detail&quot;);</a>
<a name="ln1370">      vty_out(vty, &quot;%s&quot;, VTY_NEWLINE);</a>
<a name="ln1371">    }</a>
<a name="ln1372"> </a>
<a name="ln1373">  if (ospf6-&gt;ref_bandwidth != OSPF6_REFERENCE_BANDWIDTH)</a>
<a name="ln1374">    vty_out (vty, &quot; auto-cost reference-bandwidth %d%s&quot;, ospf6-&gt;ref_bandwidth / 1000,</a>
<a name="ln1375">             VNL);</a>
<a name="ln1376"> </a>
<a name="ln1377">  ospf6_stub_router_config_write (vty);</a>
<a name="ln1378">  ospf6_redistribute_config_write (vty);</a>
<a name="ln1379">  ospf6_area_config_write (vty);</a>
<a name="ln1380">  ospf6_spf_config_write (vty);</a>
<a name="ln1381">  ospf6_distance_config_write (vty);</a>
<a name="ln1382"> </a>
<a name="ln1383">  for (ALL_LIST_ELEMENTS_RO (ospf6-&gt;area_list, j, oa))</a>
<a name="ln1384">    {</a>
<a name="ln1385">      for (ALL_LIST_ELEMENTS_RO (oa-&gt;if_list, k, oi))</a>
<a name="ln1386">        vty_out (vty, &quot; interface %s area %s%s&quot;,</a>
<a name="ln1387">                 oi-&gt;interface-&gt;name, oa-&gt;name, VNL);</a>
<a name="ln1388">    }</a>
<a name="ln1389">  vty_out (vty, &quot;!%s&quot;, VNL);</a>
<a name="ln1390">  return 0;</a>
<a name="ln1391">}</a>
<a name="ln1392"> </a>
<a name="ln1393">/* OSPF6 node structure. */</a>
<a name="ln1394">static struct cmd_node ospf6_node =</a>
<a name="ln1395">{</a>
<a name="ln1396">  OSPF6_NODE,</a>
<a name="ln1397">  &quot;%s(config-ospf6)# &quot;,</a>
<a name="ln1398">  1 /* VTYSH */</a>
<a name="ln1399">};</a>
<a name="ln1400"> </a>
<a name="ln1401">/* Install ospf related commands. */</a>
<a name="ln1402">void</a>
<a name="ln1403">ospf6_top_init (void)</a>
<a name="ln1404">{</a>
<a name="ln1405">  /* Install ospf6 top node. */</a>
<a name="ln1406">  install_node (&amp;ospf6_node, config_write_ospf6);</a>
<a name="ln1407"> </a>
<a name="ln1408">  install_element (VIEW_NODE, &amp;show_ipv6_ospf6_cmd);</a>
<a name="ln1409">  install_element (CONFIG_NODE, &amp;router_ospf6_cmd);</a>
<a name="ln1410">  install_element (CONFIG_NODE, &amp;no_router_ospf6_cmd);</a>
<a name="ln1411"> </a>
<a name="ln1412">  install_element (VIEW_NODE, &amp;show_ipv6_ospf6_route_cmd);</a>
<a name="ln1413">  install_element (VIEW_NODE, &amp;show_ipv6_ospf6_route_detail_cmd);</a>
<a name="ln1414">  install_element (VIEW_NODE, &amp;show_ipv6_ospf6_route_match_cmd);</a>
<a name="ln1415">  install_element (VIEW_NODE, &amp;show_ipv6_ospf6_route_match_detail_cmd);</a>
<a name="ln1416">  install_element (VIEW_NODE, &amp;show_ipv6_ospf6_route_longer_cmd);</a>
<a name="ln1417">  install_element (VIEW_NODE, &amp;show_ipv6_ospf6_route_longer_detail_cmd);</a>
<a name="ln1418">  install_element (VIEW_NODE, &amp;show_ipv6_ospf6_route_type_cmd);</a>
<a name="ln1419">  install_element (VIEW_NODE, &amp;show_ipv6_ospf6_route_type_detail_cmd);</a>
<a name="ln1420"> </a>
<a name="ln1421">  install_default (OSPF6_NODE);</a>
<a name="ln1422">  install_element (OSPF6_NODE, &amp;ospf6_router_id_cmd);</a>
<a name="ln1423">  install_element (OSPF6_NODE, &amp;ospf6_log_adjacency_changes_cmd);</a>
<a name="ln1424">  install_element (OSPF6_NODE, &amp;ospf6_log_adjacency_changes_detail_cmd);</a>
<a name="ln1425">  install_element (OSPF6_NODE, &amp;no_ospf6_log_adjacency_changes_cmd);</a>
<a name="ln1426">  install_element (OSPF6_NODE, &amp;no_ospf6_log_adjacency_changes_detail_cmd);</a>
<a name="ln1427">  install_element (OSPF6_NODE, &amp;ospf6_interface_area_cmd);</a>
<a name="ln1428">  install_element (OSPF6_NODE, &amp;no_ospf6_interface_area_cmd);</a>
<a name="ln1429">  install_element (OSPF6_NODE, &amp;ospf6_stub_router_admin_cmd);</a>
<a name="ln1430">  install_element (OSPF6_NODE, &amp;no_ospf6_stub_router_admin_cmd);</a>
<a name="ln1431">  /* For a later time</a>
<a name="ln1432">  install_element (OSPF6_NODE, &amp;ospf6_stub_router_startup_cmd);</a>
<a name="ln1433">  install_element (OSPF6_NODE, &amp;no_ospf6_stub_router_startup_cmd);</a>
<a name="ln1434">  install_element (OSPF6_NODE, &amp;ospf6_stub_router_shutdown_cmd);</a>
<a name="ln1435">  install_element (OSPF6_NODE, &amp;no_ospf6_stub_router_shutdown_cmd);</a>
<a name="ln1436">  */</a>
<a name="ln1437"> </a>
<a name="ln1438">  install_element (OSPF6_NODE, &amp;ospf6_distance_cmd);</a>
<a name="ln1439">  install_element (OSPF6_NODE, &amp;no_ospf6_distance_cmd);</a>
<a name="ln1440">  install_element (OSPF6_NODE, &amp;no_ospf6_distance_ospf6_cmd);</a>
<a name="ln1441">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_intra_cmd);</a>
<a name="ln1442">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_intra_inter_cmd);</a>
<a name="ln1443">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_intra_external_cmd);</a>
<a name="ln1444">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_intra_inter_external_cmd);</a>
<a name="ln1445">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_intra_external_inter_cmd);</a>
<a name="ln1446">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_inter_cmd);</a>
<a name="ln1447">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_inter_intra_cmd);</a>
<a name="ln1448">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_inter_external_cmd);</a>
<a name="ln1449">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_inter_intra_external_cmd);</a>
<a name="ln1450">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_inter_external_intra_cmd);</a>
<a name="ln1451">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_external_cmd);</a>
<a name="ln1452">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_external_intra_cmd);</a>
<a name="ln1453">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_external_inter_cmd);</a>
<a name="ln1454">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_external_intra_inter_cmd);</a>
<a name="ln1455">  install_element (OSPF6_NODE, &amp;ospf6_distance_ospf6_external_inter_intra_cmd);</a>
<a name="ln1456"> </a>
<a name="ln1457">  install_element (OSPF6_NODE, &amp;ospf6_distance_source_cmd);</a>
<a name="ln1458">  install_element (OSPF6_NODE, &amp;no_ospf6_distance_source_cmd);</a>
<a name="ln1459">  install_element (OSPF6_NODE, &amp;ospf6_distance_source_access_list_cmd);</a>
<a name="ln1460">  install_element (OSPF6_NODE, &amp;no_ospf6_distance_source_access_list_cmd);</a>
<a name="ln1461">}</a>
<a name="ln1462"> </a>
<a name="ln1463"> </a>

</code></pre>
<div class="balloon" rel="7"><p><span style="font-size:18px">&uarr;</span> <a href="https://pvs-studio.com/en/docs/warnings/v1042/" target="_blank">V1042</a> This file is marked with copyleft license, which requires you to open the derived source code.</p></div>
<div class="balloon" rel="1119"><p><span style="font-size:18px">&uarr;</span> <a href="https://pvs-studio.com/en/docs/warnings/v595/" target="_blank">V595</a> The 'o->area_list' pointer was utilized before it was verified against nullptr. Check lines: 1119, 1131.</p></div>

<link rel="stylesheet" href="highlight.css">
<script src="highlight.pack.js"></script>
<script src="highlightjs-line-numbers.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>hljs.initLineNumbersOnLoad();</script>
<script>
  $(document).ready(function() {
      $('.balloon').each(function () {
          var bl = $(this);
          var line = bl.attr('rel');
          var text = $('a[name="ln'+line+'"]').text();

          var space_count = 0;
          for(var i = 0; i<text.length; i++){
              var char = text[i];
              if((char !== ' ')&&(char !== '\t'))break;
              if(char === '\t')space_count++;
              space_count++;
          }

          bl.css('margin-left', space_count*8);
          $('a[name="ln'+line+'"]').after(bl);
      });

      window.location = window.location;
  });
</script>
</body>
</html>
